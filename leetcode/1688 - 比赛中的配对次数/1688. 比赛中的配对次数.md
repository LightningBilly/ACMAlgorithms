
# [1688] [比赛中的配对次数](https://leetcode-cn.com/problems/count-of-matches-in-tournament/)
* https://leetcode-cn.com/problems/count-of-matches-in-tournament/

## 题目描述

给你一个整数 n ，表示比赛中的队伍数。比赛遵循一种独特的赛制：

如果当前队伍数是 偶数 ，那么每支队伍都会与另一支队伍配对。总共进行 n / 2 场比赛，且产生 n / 2 支队伍进入下一轮。
如果当前队伍数为 奇数 ，那么将会随机轮空并晋级一支队伍，其余的队伍配对。总共进行 (n - 1) / 2 场比赛，且产生 (n - 1) / 2 + 1 支队伍进入下一轮。
返回在比赛中进行的配对次数，直到决出获胜队伍为止。

 

示例 1：

输入：n = 7
输出：6
解释：比赛详情：
- 第 1 轮：队伍数 = 7 ，配对次数 = 3 ，4 支队伍晋级。
- 第 2 轮：队伍数 = 4 ，配对次数 = 2 ，2 支队伍晋级。
- 第 3 轮：队伍数 = 2 ，配对次数 = 1 ，决出 1 支获胜队伍。
总配对次数 = 3 + 2 + 1 = 6
示例 2：

输入：n = 14
输出：13
解释：比赛详情：
- 第 1 轮：队伍数 = 14 ，配对次数 = 7 ，7 支队伍晋级。
- 第 2 轮：队伍数 = 7 ，配对次数 = 3 ，4 支队伍晋级。
- 第 3 轮：队伍数 = 4 ，配对次数 = 2 ，2 支队伍晋级。
- 第 4 轮：队伍数 = 2 ，配对次数 = 1 ，决出 1 支获胜队伍。
总配对次数 = 7 + 3 + 2 + 1 = 13


提示：

1 <= n <= 200

<div><div>Related Topics</div><div><li>模拟</li><li>二进制</li><li>数学</li></div></div>


## 题目剖析&信息挖掘

此题为模拟，也可以用数学分析法解决

## 解题思路

### 方法一 模拟法

#### 知识点

* 模拟

#### 复杂度

* 时间复杂度：O(nlog(n))
* 空间复杂度：O(1)

#### 参考
#### 代码实现

```c++
class Solution {
public:
    int numberOfMatches(int n) {
        int sum = 0;
        while(n>1) {
            sum += (n>>1);
            n = (n>>1)+(n&1);
        }

        return sum;
    }
};
```



### 方法二 数学分析法

#### 分析

- 根据题意，每次的组队数为n>>1(n/2向下取整), 剩下的人数是n>>1(n/2向下取整)+(n&1)。 (n&1) = (n%2)
- 我们发现(n>>1) + (n>>1) + (n&1) = n，可以得到 剩余人数 = (n>>1) + (n&1) = n- (n>>1) 
- 也就是剩余人数=总人数-组队次数，假设到人数为1时，一共操作了x次，每次组队数为Oi, 可以有如下公式：
- O1+O2+O3+...+Ox+1 = n
- O1+O2+O3+...+Ox = n-1, 而O1+O2+O3+...+Ox就是我们要的答案。
- 总结一下，答案就是n-1

#### 知识点

- 二进制
- 取余
- 数学分析

#### 复杂度

- 时间复杂度：O(1)
- 空间复杂度：O(1)

#### 参考

#### 代码实现

```c++
class Solution {
public:
    int numberOfMatches(int n) {
        return n-1;
    }
};
```

